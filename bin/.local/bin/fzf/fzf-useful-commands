#!/bin/sh

useful_commands=$(cat << EOF
sxs-cli login
sxs-cli login && cat ~/.aws/credentials | pbcopy
npm run build && cd build/artifact/ && sls deploy --stage test --function {api/bot name} && cd ../..
brew update && brew upgrade
rm -rf ./node_modules
rm -rf ./angular
ssh -T git@github.com
ssh-add --apple-use-keychain ~/.ssh/{key}
git checkout main -- path/to/example.txt
EOF
)

chosen_command=$(echo "$useful_commands" | fzf)

case "$(uname -s)" in
    Darwin)
        clip_paste="echo $chosen_command"
        type_cmd="osascript -e 'tell application \"System Events\" to keystroke \"%s\"'"
        ;;
    *)
        clip_paste="xclip -o"
        type_cmd='xdotool type "%s"'
        ;;
esac

text="$($clip_paste)"

printf "$type_cmd" "${text}" | sh
